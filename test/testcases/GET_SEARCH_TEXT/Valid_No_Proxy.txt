*** Settings ***
Documentation     NOTE:
...               add note here
Suite Setup       Suite Setup
Force Tags        GET_SEARCH_TEXT    win    unix
Test Template     Get Search Text Template
Resource          ../../resources/keywords.txt

*** Test Cases ***    URL                                      EXPECTED            REGEX    USERNAME         PASSWORD      TIMEOUT    IGNORE
Valid No Proxy with text, user and password,
                      https://${_HOST}/smoke_web/basicauth/    hello world         NO       Administrator    S3rv3r@Aut    10000      YES

Valid No Proxy with text, no user and pass
                      https://${_HOST}/smoke_web/              hello world         NO       ${EMPTY}         ${EMPTY}      10000      YES

Valid No Proxy with text, no user and pass, no certificate
                      http://${_HOST}/smoke_web/               world               NO       ${EMPTY}         ${EMPTY}      10000      NO

Valid No Proxy with text, user and pass, no certificate
                      http://${_HOST}/smoke_web/basicauth/     hello               NO       Administrator    S3rv3r@Aut    10000      NO

Valid No Proxy with user and password
                      https://${_HOST}/smoke_web/basicauth/    [^t]ello            YES      Administrator    S3rv3r@Aut    10000      YES

Valid No Proxy with no user and pass
                      https://${_HOST}/smoke_web/              hel{2,3}o |world    YES      ${EMPTY}         ${EMPTY}      10000      YES

Valid No Proxy with no user and pass, no certificate
                      http://${_HOST}/smoke_web/               he?llo +world       YES      ${EMPTY}         ${EMPTY}      10000      NO

Valid No Proxy with user and pass, no certificate
                      http://${_HOST}/smoke_web/basicauth/     [hc]*w.rld          YES      Administrator    S3rv3r@Aut    10000      NO

Valid No Proxy Regex, but input text
                      https://${_HOST}/smoke_web/basicauth/    hello world         YES      Administrator    S3rv3r@Aut    10000      YES

Valid no proxy, sensitive case
                      https://${_HOST}/smoke_web/              HELLO world         NO       ${EMPTY}         ${EMPTY}      10000      YES

*** Keywords ***
Get Search Text Template
    [Arguments]    ${url}    ${expected}    ${regex}    ${username}    ${password}    ${timeout}
    ...    ${ignore}
    Init Action    ${ACTION_GET_SEARCH_TEXT}
    Action Set    ${PRT_GET_SEARCH_TEXT_ST_URL}    ${url}
    Action Set    ${PRT_GET_SEARCH_TEXT_ST_EXPECTED_TEXT}    ${expected}
    Action Set    ${PRT_GET_SEARCH_TEXT_ST_TREAT_AS_REGEX}    ${regex}
    Action Set    ${PRT_GET_SEARCH_TEXT_ST_USERNAME}    ${username}
    Action Set    ${PRT_GET_SEARCH_TEXT_ST_PASSWORD}    ${password}
    Action Set    ${PRT_GET_SEARCH_TEXT_ST_OPEN_TIMEOUT}    ${timeout}
    Action Set    ${PRT_GET_SEARCH_TEXT_ST_IGNORE_SERVER_CERT}    ${ignore}
    Action Execute
    Action Report Should Be Found
    Action Return Code Should Be    0
